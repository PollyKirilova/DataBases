<!DOCTYPE html>
<html lang="bg">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SQL –£—Ä–æ–∫: –¢—Ä–∏–≥–µ—Ä–∏ (Triggers)</title>
    <style>
        :root {
            --primary-color: #8e44ad; /* –õ–∏–ª–∞–≤–æ –∑–∞ –ø–æ-–º–∞–≥–∏—á–µ—Å–∫–∏/–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ–Ω –µ—Ñ–µ–∫—Ç */
            --accent-color: #9b59b6;
            --section-bg: #ffffff;
            --code-bg: #282c34;
            --text-color: #333;
            --light-bg: #f4f6f7;
            --success-color: #27ae60;
            --error-color: #c0392b;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            margin: 0;
            padding: 0;
            background-color: #f0f3f4;
        }

        header {
            background-color: var(--primary-color);
            color: white;
            padding: 2rem 0;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }

        section {
            background: var(--section-bg);
            margin-bottom: 2rem;
            padding: 25px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            border-left: 5px solid var(--accent-color);
        }

        h2 { color: var(--primary-color); border-bottom: 1px solid #eee; padding-bottom: 10px; }
        h3 { color: #d35400; margin-top: 1.5rem; }

        /* Code Blocks */
        pre {
            background-color: var(--code-bg);
            color: #abb2bf;
            padding: 15px;
            border-radius: 6px;
            overflow-x: auto;
            font-family: 'Consolas', monospace;
            border: 1px solid #3e4451;
        }

        .sql-kw { color: #c678dd; font-weight: bold; } /* Keywords */
        .sql-var { color: #e06c75; font-weight: bold; } /* Variables NEW/OLD */
        .sql-str { color: #98c379; } /* Strings */

        /* Interactive Elements */
        .flow-diagram {
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 20px 0;
            background: #ecf0f1;
            padding: 15px;
            border-radius: 8px;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .step {
            background: white;
            padding: 10px 15px;
            border: 2px solid var(--primary-color);
            border-radius: 20px;
            font-weight: bold;
            text-align: center;
        }

        .arrow { font-size: 1.5rem; color: #7f8c8d; }

        /* Quiz Styles */
        .mini-quiz {
            background-color: #fff3e0;
            border: 1px solid #ffe0b2;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
        }

        .quiz-btn {
            display: block;
            width: 100%;
            padding: 12px;
            margin: 8px 0;
            border: 1px solid #ddd;
            background: white;
            text-align: left;
            cursor: pointer;
            border-radius: 4px;
            transition: 0.2s;
            font-size: 0.95rem;
        }

        .quiz-btn:hover { background-color: #eee; }

        .feedback {
            margin-top: 10px;
            padding: 10px;
            border-radius: 4px;
            display: none;
            font-weight: bold;
        }
        .correct { background-color: #d4edda; color: #155724; display: block; }
        .wrong { background-color: #f8d7da; color: #721c24; display: block; }

        /* Toggle Answer */
        .reveal-btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 8px 15px;
            cursor: pointer;
            border-radius: 4px;
            margin-top: 10px;
        }
        
        .answer-box {
            display: none;
            margin-top: 15px;
            border-top: 1px dashed #ccc;
            padding-top: 10px;
        }

    </style>
</head>
<body>

<header>
    <h1>–ë–∞–∑–∏ –î–∞–Ω–Ω–∏: –¢—Ä–∏–≥–µ—Ä–∏ (Triggers)</h1>
    <p>–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –Ω–∞ –ø—Ä–æ—Ü–µ—Å–∏—Ç–µ –∏ –∑–∞–ø–∞–∑–≤–∞–Ω–µ –Ω–∞ —Ü—è–ª–æ—Å—Ç—Ç–∞ –Ω–∞ –¥–∞–Ω–Ω–∏—Ç–µ</p>
</header>

<div class="container">

    <section>
        <h2>1. –ö–∞–∫–≤–æ –µ –¢—Ä–∏–≥–µ—Ä?</h2>
        <p>–¢—Ä–∏–≥–µ—Ä—ä—Ç –µ —Å–ø–µ—Ü–∏–∞–ª–µ–Ω –≤–∏–¥ —Å—ä—Ö—Ä–∞–Ω–µ–Ω–∞ –ø—Ä–æ—Ü–µ–¥—É—Ä–∞, –∫–æ—è—Ç–æ —Å–µ <strong>—Å—Ç–∞—Ä—Ç–∏—Ä–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ</strong> (–∑–∞–¥–µ–π—Å—Ç–≤–∞ —Å–µ), –∫–æ–≥–∞—Ç–æ —Å–µ —Å–ª—É—á–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ —Å—ä–±–∏—Ç–∏–µ –≤ –±–∞–∑–∞—Ç–∞ –¥–∞–Ω–Ω–∏.</p>
        <p>–ù–µ –º–æ–∂–µ—Ç–µ –¥–∞ –∏–∑–≤–∏–∫–∞—Ç–µ —Ç—Ä–∏–≥–µ—Ä —Ä—ä—á–Ω–æ. –¢–æ–π —á–∞–∫–∞ "–≤ –∑–∞—Å–∞–¥–∞" –Ω—è–∫–æ–π –¥–∞ –ø—Ä–æ–º–µ–Ω–∏ –¥–∞–Ω–Ω–∏—Ç–µ.</p>

        <div class="flow-diagram">
            <div class="step">INSERT / UPDATE / DELETE</div>
            <div class="arrow">‚ûî</div>
            <div class="step" style="background: #fadbd8; border-color: #e74c3c;">–¢–†–ò–ì–ï–†</div>
            <div class="arrow">‚ûî</div>
            <div class="step">–ò–∑–ø—ä–ª–Ω–µ–Ω–∏–µ –Ω–∞ –ª–æ–≥–∏–∫–∞</div>
        </div>

        <h3>–û—Å–Ω–æ–≤–Ω–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏:</h3>
        <ul>
            <li><strong>–í—Ä–µ–º–µ (Timing):</strong> <code>BEFORE</code> (–ø—Ä–µ–¥–∏ –∑–∞–ø–∏—Å–∞) –∏–ª–∏ <code>AFTER</code> (—Å–ª–µ–¥ –∑–∞–ø–∏—Å–∞).</li>
            <li><strong>–°—ä–±–∏—Ç–∏–µ (Event):</strong> <code>INSERT</code>, <code>UPDATE</code> –∏–ª–∏ <code>DELETE</code>.</li>
            <li><strong>–¢–∞–±–ª–∏—Ü–∞:</strong> –¢—Ä–∏–≥–µ—Ä—ä—Ç –≤–∏–Ω–∞–≥–∏ –µ "–∑–∞–∫–∞—á–µ–Ω" –∑–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞.</li>
        </ul>
    </section>

    <section>
        <h2>2. –ú–∞–≥–∏—è—Ç–∞ –Ω–∞ NEW –∏ OLD</h2>
        <p>–í—ä—Ç—Ä–µ –≤ —Ç—Ä–∏–≥–µ—Ä–∞ –∏–º–∞–º–µ –¥–æ—Å—Ç—ä–ø –¥–æ –≤–∏—Ä—Ç—É–∞–ª–Ω–∏ –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∏, –∫–æ–∏—Ç–æ —Å—ä–¥—ä—Ä–∂–∞—Ç –¥–∞–Ω–Ω–∏—Ç–µ –æ—Ç —Ä–µ–¥–∞, –∫–æ–π—Ç–æ –æ–±—Ä–∞–±–æ—Ç–≤–∞–º–µ.</p>
        
        <table style="width:100%; border-collapse: collapse; margin-bottom: 20px;">
            <tr style="background: var(--light-bg); text-align: left;">
                <th style="padding: 10px; border: 1px solid #ddd;">–ü—Ä–æ–º–µ–Ω–ª–∏–≤–∞</th>
                <th style="padding: 10px; border: 1px solid #ddd;">–û–ø–∏—Å–∞–Ω–∏–µ</th>
                <th style="padding: 10px; border: 1px solid #ddd;">–ù–∞–ª–∏—á–Ω–∞ –ø—Ä–∏</th>
            </tr>
            <tr>
                <td style="padding: 10px; border: 1px solid #ddd;"><code class="sql-var">NEW.column_name</code></td>
                <td style="padding: 10px; border: 1px solid #ddd;">–ù–æ–≤–∞—Ç–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç, –∫–æ—è—Ç–æ —Å–µ –æ–ø–∏—Ç–≤–∞–º–µ –¥–∞ –∑–∞–ø–∏—à–µ–º.</td>
                <td style="padding: 10px; border: 1px solid #ddd;">INSERT, UPDATE</td>
            </tr>
            <tr>
                <td style="padding: 10px; border: 1px solid #ddd;"><code class="sql-var">OLD.column_name</code></td>
                <td style="padding: 10px; border: 1px solid #ddd;">–°—Ç–∞—Ä–∞—Ç–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç, –∫–æ—è—Ç–æ –µ –±–∏–ª–∞ –≤ –±–∞–∑–∞—Ç–∞ –ø—Ä–µ–¥–∏ –ø—Ä–æ–º—è–Ω–∞—Ç–∞.</td>
                <td style="padding: 10px; border: 1px solid #ddd;">UPDATE, DELETE</td>
            </tr>
        </table>

        <div class="mini-quiz" id="quiz1">
            <h4>ü§î –í—ä–ø—Ä–æ—Å:</h4>
            <p>–ò—Å–∫–∞—Ç–µ –¥–∞ –Ω–∞–ø—Ä–∞–≤–∏—Ç–µ –ª–æ–≥ (–∞—Ä—Ö–∏–≤) –Ω–∞ —Å—Ç–∞—Ä–∞—Ç–∞ –∑–∞–ø–ª–∞—Ç–∞ –Ω–∞ —Å–ª—É–∂–∏—Ç–µ–ª, –ø—Ä–µ–¥–∏ —Ç—è –¥–∞ –±—ä–¥–µ –ø—Ä–æ–º–µ–Ω–µ–Ω–∞. –ö–æ—è –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∞ —â–µ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ, –∑–∞ –¥–∞ –≤–∑–µ–º–µ—Ç–µ —Ç–µ–∫—É—â–∞—Ç–∞ (—Å—Ç–∞—Ä–∞) –∑–∞–ø–ª–∞—Ç–∞?</p>
            <button class="quiz-btn" onclick="checkAnswer('quiz1', 'new')">NEW.salary</button>
            <button class="quiz-btn" onclick="checkAnswer('quiz1', 'old')">OLD.salary</button>
            <button class="quiz-btn" onclick="checkAnswer('quiz1', 'none')">CURRENT.salary</button>
            <div class="feedback"></div>
        </div>
    </section>

    <section>
        <h2>3. –ü—Ä–∏–º–µ—Ä: –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ –¥–∞–Ω–Ω–∏ (BEFORE)</h2>
        <p>–ò–∑–ø–æ–ª–∑–≤–∞–º–µ <code>BEFORE</code>, –∫–æ–≥–∞—Ç–æ –∏—Å–∫–∞–º–µ –¥–∞ –ø—Ä–æ–≤–µ—Ä–∏–º –¥–∞–Ω–Ω–∏—Ç–µ <strong>–ø—Ä–µ–¥–∏</strong> —Ç–µ –¥–∞ –≤–ª—è–∑–∞—Ç –≤ –±–∞–∑–∞—Ç–∞. –ê–∫–æ –Ω–µ –Ω–∏ —Ö–∞—Ä–µ—Å–≤–∞—Ç, –º–æ–∂–µ–º –¥–∞ –≥–∏ –ø—Ä–æ–º–µ–Ω–∏–º –∏–ª–∏ –¥–∞ —Å–ø—Ä–µ–º –∑–∞—è–≤–∫–∞—Ç–∞.</p>
        
        <p><strong>–ó–∞–¥–∞—á–∞:</strong> –ù–µ –ø–æ–∑–≤–æ–ª—è–≤–∞–π –∑–∞–ø–ª–∞—Ç–∞—Ç–∞ –¥–∞ –±—ä–¥–µ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª–Ω–æ —á–∏—Å–ª–æ. –ê–∫–æ –Ω—è–∫–æ–π –≤—ä–≤–µ–¥–µ -500, –Ω–∞–ø—Ä–∞–≤–∏ –≥–æ 0.</p>

        <pre><code><span class="sql-kw">CREATE TRIGGER</span> check_salary_positive
<span class="sql-kw">BEFORE INSERT ON</span> employees
<span class="sql-kw">FOR EACH ROW</span>
<span class="sql-kw">BEGIN</span>
    <span class="sql-kw">IF</span> <span class="sql-var">NEW.salary</span> < 0 <span class="sql-kw">THEN</span>
        <span class="sql-kw">SET</span> <span class="sql-var">NEW.salary</span> = 0;
    <span class="sql-kw">END IF</span>;
<span class="sql-kw">END</span>;</code></pre>

        <div class="mini-quiz" id="quiz2">
            <h4>ü§î –õ–æ–≥–∏–∫–∞:</h4>
            <p>–ó–∞—â–æ –∏–∑–ø–æ–ª–∑–≤–∞–º–µ <code>BEFORE</code> –≤ —Ç–æ–∑–∏ —Å–ª—É—á–∞–π, –∞ –Ω–µ <code>AFTER</code>?</p>
            <button class="quiz-btn" onclick="checkAnswer('quiz2', 'after')">–ù—è–º–∞ –∑–Ω–∞—á–µ–Ω–∏–µ, –∏ –¥–≤–µ—Ç–µ —Ä–∞–±–æ—Ç—è—Ç.</button>
            <button class="quiz-btn" onclick="checkAnswer('quiz2', 'before')">–ó–∞—â–æ—Ç–æ —Å–ª–µ–¥ (AFTER) –∑–∞–ø–∏—Å–∞, –¥–∞–Ω–Ω–∏—Ç–µ –≤–µ—á–µ —Å–∞ –≤ —Ç–∞–±–ª–∏—Ü–∞—Ç–∞ –∏ –µ –∫—ä—Å–Ω–æ –¥–∞ –≥–∏ –ø—Ä–æ–º–µ–Ω—è–º–µ.</button>
            <div class="feedback"></div>
        </div>
    </section>

    <section>
        <h2>4. –ü—Ä–∏–º–µ—Ä: –ò—Å—Ç–æ—Ä–∏—è –Ω–∞ –ø—Ä–æ–º–µ–Ω–∏—Ç–µ (AFTER)</h2>
        <p>–ù–∞–π-—á–µ—Å—Ç–∞—Ç–∞ —É–ø–æ—Ç—Ä–µ–±–∞ –Ω–∞ —Ç—Ä–∏–≥–µ—Ä–∏ –µ –∑–∞ <strong>Audit Logs</strong>. –ö–æ–≥–∞—Ç–æ –Ω—è–∫–æ–π –∏–∑—Ç—Ä–∏–µ –∏–ª–∏ –ø—Ä–æ–º–µ–Ω–∏ –Ω–µ—â–æ, –Ω–∏–µ –∑–∞–ø–∏—Å–≤–∞–º–µ "–∫–æ–π, –∫–∞–∫–≤–æ –∏ –∫–æ–≥–∞" –≤ –¥—Ä—É–≥–∞ —Ç–∞–±–ª–∏—Ü–∞.</p>

        <p><strong>–ó–∞–¥–∞—á–∞:</strong> –ö–æ–≥–∞—Ç–æ —Å–µ –∏–∑—Ç—Ä–∏–µ —Å–ª—É–∂–∏—Ç–µ–ª, –∑–∞–ø–∏—à–∏ –∏–º–µ—Ç–æ –º—É –≤ —Ç–∞–±–ª–∏—Ü–∞ <code>deleted_employees_log</code>.</p>

        <pre><code><span class="sql-kw">CREATE TRIGGER</span> log_employee_deletion
<span class="sql-kw">AFTER DELETE ON</span> employees
<span class="sql-kw">FOR EACH ROW</span>
<span class="sql-kw">BEGIN</span>
    <span class="sql-kw">INSERT INTO</span> deleted_employees_log (emp_name, date_deleted)
    <span class="sql-kw">VALUES</span> (<span class="sql-var">OLD.first_name</span>, NOW());
<span class="sql-kw">END</span>;</code></pre>
    </section>

    <section>
        <h2>5. –ó–∞–¥–∞—á–∏ –∑–∞ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ</h2>
        
        <div style="margin-bottom: 30px;">
            <h3>–ó–∞–¥–∞—á–∞ 1: –ó–∞—â–∏—Ç–∞ –Ω–∞ –¥–∞–Ω–Ω–∏—Ç–µ</h3>
            <p>–ù–∞–ø–∏—à–µ—Ç–µ —Ç—Ä–∏–≥–µ—Ä, –∫–æ–π—Ç–æ —Å–µ –∑–∞–¥–µ–π—Å—Ç–≤–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤—è–≤–∞–Ω–µ (UPDATE) –Ω–∞ —Ç–∞–±–ª–∏—Ü–∞—Ç–∞ <code>products</code>. –¢—Ä–∏–≥–µ—Ä—ä—Ç —Ç—Ä—è–±–≤–∞ –¥–∞ –ø—Ä–æ–≤–µ—Ä—è–≤–∞ –¥–∞–ª–∏ –Ω–æ–≤–∞—Ç–∞ —Ü–µ–Ω–∞ (price) –µ –ø–æ-–≤–∏—Å–æ–∫–∞ –æ—Ç —Å—Ç–∞—Ä–∞—Ç–∞ —Å –ø–æ–≤–µ—á–µ –æ—Ç 100%. –ê–∫–æ –µ —Ç–∞–∫–∞, –∑–∞–¥–∞–π—Ç–µ –Ω–æ–≤–∞—Ç–∞ —Ü–µ–Ω–∞ –¥–∞ –±—ä–¥–µ —Å—Ç–∞—Ä–∞—Ç–∞ —Ü–µ–Ω–∞ + 10% (–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –∫–æ—Ä–µ–∫—Ü–∏—è).</p>
            <button class="reveal-btn" onclick="toggleAnswer('ans1')">–í–∏–∂ –†–µ—à–µ–Ω–∏–µ</button>
            <div id="ans1" class="answer-box">
                <pre><code><span class="sql-kw">CREATE TRIGGER</span> prevent_price_hike
<span class="sql-kw">BEFORE UPDATE ON</span> products
<span class="sql-kw">FOR EACH ROW</span>
<span class="sql-kw">BEGIN</span>
    <span class="sql-kw">IF</span> <span class="sql-var">NEW.price</span> > <span class="sql-var">OLD.price</span> * 2 <span class="sql-kw">THEN</span>
        <span class="sql-kw">SET</span> <span class="sql-var">NEW.price</span> = <span class="sql-var">OLD.price</span> * 1.10;
    <span class="sql-kw">END IF</span>;
<span class="sql-kw">END</span>;</code></pre>
            </div>
        </div>

        <div>
            <h3>–ó–∞–¥–∞—á–∞ 2: –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–æ–ø—ä–ª–≤–∞–Ω–µ</h3>
            <p>–ò–º–∞—Ç–µ —Ç–∞–±–ª–∏—Ü–∞ <code>tasks</code> —Å –∫–æ–ª–æ–Ω–∞ <code>completed_at</code> (–¥–∞—Ç–∞ –Ω–∞ –∑–∞–≤—ä—Ä—à–≤–∞–Ω–µ). –ù–∞–ø–∏—à–µ—Ç–µ —Ç—Ä–∏–≥–µ—Ä, –∫–æ–π—Ç–æ: –ø—Ä–∏ <code>UPDATE</code> –Ω–∞ —Å—Ç–∞—Ç—É—Å <code>status = 'DONE'</code>, –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–ø–∏—Å–≤–∞ —Ç–µ–∫—É—â–æ—Ç–æ –≤—Ä–µ–º–µ (NOW()) –≤ –∫–æ–ª–æ–Ω–∞—Ç–∞ <code>completed_at</code>.</p>
            <button class="reveal-btn" onclick="toggleAnswer('ans2')">–í–∏–∂ –†–µ—à–µ–Ω–∏–µ</button>
            <div id="ans2" class="answer-box">
                <pre><code><span class="sql-kw">CREATE TRIGGER</span> set_completion_date
<span class="sql-kw">BEFORE UPDATE ON</span> tasks
<span class="sql-kw">FOR EACH ROW</span>
<span class="sql-kw">BEGIN</span>
    <span class="sql-kw">IF</span> <span class="sql-var">NEW.status</span> = 'DONE' <span class="sql-kw">AND</span> <span class="sql-var">OLD.status</span> != 'DONE' <span class="sql-kw">THEN</span>
        <span class="sql-kw">SET</span> <span class="sql-var">NEW.completed_at</span> = NOW();
    <span class="sql-kw">END IF</span>;
<span class="sql-kw">END</span>;</code></pre>
            </div>
        </div>

    </section>
<section style="border-left-color: #e74c3c; background: #fffcfc;">
        <h2 style="color: #c0392b;">6. Workshop: –ó–∞–¥–∞—á–∏ –∑–∞ —à–∞–º–ø–∏–æ–Ω–∏</h2>
        <p>–¢–µ–∑–∏ –∑–∞–¥–∞—á–∏ –∏–∑–∏—Å–∫–≤–∞—Ç –¥–∞ –∫–æ–º–±–∏–Ω–∏—Ä–∞—Ç–µ –ª–æ–≥–∏–∫–∞ –∏ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å. –ó–∞ –≤—Å—è–∫–∞ –∑–∞–¥–∞—á–∞ –∏–º–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–∞ —Ç–∞–±–ª–∏—Ü–∏—Ç–µ.</p>

        <div class="mini-quiz" style="background: white; border: 1px solid #eee;">
            <h4 style="color: #c0392b;">–ó–∞–¥–∞—á–∞ 3: –ë–∞–Ω–∫–æ–≤–∞ —Å–∏–≥—É—Ä–Ω–æ—Å—Ç (STOP Transaction)</h4>
            <p><strong>–°—Ü–µ–Ω–∞—Ä–∏–π:</strong> –†–∞–±–æ—Ç–∏—Ç–µ –ø–æ –±–∞–Ω–∫–æ–≤ —Å–æ—Ñ—Ç—É–µ—Ä. –ò–º–∞—Ç–µ —Ç–∞–±–ª–∏—Ü–∞ <code>accounts</code> —Å –∫–æ–ª–æ–Ω–∏ <code>id</code>, <code>owner</code> –∏ <code>balance</code>.</p>
            <p><strong>–¶–µ–ª:</strong> –ù–∞–ø–∏—à–µ—Ç–µ —Ç—Ä–∏–≥–µ—Ä, –∫–æ–π—Ç–æ <strong>–Ω–µ –ø–æ–∑–≤–æ–ª—è–≤–∞</strong> —Ç–µ–≥–ª–µ–Ω–µ –Ω–∞ –ø–∞—Ä–∏, –∞–∫–æ –±–∞–ª–∞–Ω—Å—ä—Ç —Å—Ç–∞–Ω–µ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª–µ–Ω. –ê–∫–æ —Å–ª–µ–¥ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è—Ç–∞ –±–∞–ª–∞–Ω—Å—ä—Ç –µ –ø–æ–¥ 0, —Ç—Ä–∏–≥–µ—Ä—ä—Ç —Ç—Ä—è–±–≤–∞ –¥–∞ –≤—ä—Ä–Ω–µ –±–∞–ª–∞–Ω—Å–∞ –∫—ä–º —Å—Ç–∞—Ä–∞—Ç–∞ –º—É —Å—Ç–æ–π–Ω–æ—Å—Ç (–¥–∞ –æ—Ç–º–µ–Ω–∏ –ø—Ä–æ–º—è–Ω–∞—Ç–∞).</p>
            
            <div style="background: #f4f6f7; padding: 10px; margin: 10px 0; font-size: 0.9em;">
                <em>–¢–∞–±–ª–∏—Ü–∞: accounts (id, owner, balance)</em>
            </div>

           
        </div>

        <div class="mini-quiz" style="background: white; border: 1px solid #eee;">
            <h4 style="color: #2980b9;">–ó–∞–¥–∞—á–∞ 4: –ò—Å—Ç–æ—Ä–∏—è –Ω–∞ —Ü–µ–Ω–∏—Ç–µ (Audit Log)</h4>
            <p><strong>–°—Ü–µ–Ω–∞—Ä–∏–π:</strong> –í –æ–Ω–ª–∞–π–Ω –º–∞–≥–∞–∑–∏–Ω –∏—Å–∫–∞–º–µ –¥–∞ —Å–ª–µ–¥–∏–º –∫–∞–∫ —Å–µ –ø—Ä–æ–º–µ–Ω—è—Ç —Ü–µ–Ω–∏—Ç–µ –Ω–∞ —Å—Ç–æ–∫–∏—Ç–µ –≤—ä–≤ –≤—Ä–µ–º–µ—Ç–æ.</p>
            <p><strong>–¶–µ–ª:</strong> –°—ä–∑–¥–∞–π—Ç–µ —Ç—Ä–∏–≥–µ—Ä, –∫–æ–π—Ç–æ –ø—Ä–∏ –≤—Å—è–∫–∞ –ø—Ä–æ–º—è–Ω–∞ –Ω–∞ —Ü–µ–Ω–∞—Ç–∞ –≤ —Ç–∞–±–ª–∏—Ü–∞ <code>products</code>, –∑–∞–ø–∏—Å–≤–∞ —Å—Ç–∞—Ä–∞—Ç–∞ —Ü–µ–Ω–∞, –Ω–æ–≤–∞—Ç–∞ —Ü–µ–Ω–∞ –∏ –¥–∞—Ç–∞—Ç–∞ –Ω–∞ –ø—Ä–æ–º—è–Ω–∞ –≤ —Ç–∞–±–ª–∏—Ü–∞ <code>price_history</code>.</p>
            
            <div style="background: #f4f6f7; padding: 10px; margin: 10px 0; font-size: 0.9em;">
                <em>–¢–∞–±–ª–∏—Ü–∏: <br>
                1. products (id, name, price)<br>
                2. price_history (id, product_id, old_price, new_price, changed_at)</em>
            </div>

           
        </div>

        <div class="mini-quiz" style="background: white; border: 1px solid #eee;">
            <h4 style="color: #8e44ad;">–ó–∞–¥–∞—á–∞ 5: –ù–µ–∏–∑—Ç—Ä–∏–≤–∞–µ–º–∏—è—Ç –∑–∞–ø–∏—Å (Protection)</h4>
            <p><strong>–°—Ü–µ–Ω–∞—Ä–∏–π:</strong> –í —Ç–∞–±–ª–∏—Ü–∞—Ç–∞ —Å—ä—Å —Å–ª—É–∂–∏—Ç–µ–ª–∏ –∏–º–∞ –∑–∞–ø–∏—Å —Å –ø–æ–∑–∏—Ü–∏—è 'CEO' (–ò–∑–ø—ä–ª–Ω–∏—Ç–µ–ª–µ–Ω –¥–∏—Ä–µ–∫—Ç–æ—Ä).</p>
            <p><strong>–¶–µ–ª:</strong> –ù–∞–ø–∏—à–µ—Ç–µ —Ç—Ä–∏–≥–µ—Ä, –∫–æ–π—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç—è–≤–∞ –∏–∑—Ç—Ä–∏–≤–∞–Ω–µ—Ç–æ (DELETE) –Ω–∞ —Å–ª—É–∂–∏—Ç–µ–ª, –∞–∫–æ –Ω–µ–≥–æ–≤–∞—Ç–∞ –¥–ª—ä–∂–Ω–æ—Å—Ç (position) –µ 'CEO'. –ê–∫–æ –Ω—è–∫–æ–π —Å–µ –æ–ø–∏—Ç–∞ –¥–∞ –≥–æ –∏–∑—Ç—Ä–∏–µ, —Ç—Ä–∏–≥–µ—Ä—ä—Ç —Ç—Ä—è–±–≤–∞ –¥–∞ —Ö–≤—ä—Ä–ª–∏ –≥—Ä–µ—à–∫–∞ (–∏–ª–∏ –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞–º–µ "—Ç—Ä–∏–∫" –∑–∞ MySQL, –∞–∫–æ –Ω–µ –ø–æ–ª–∑–≤–∞–º–µ SIGNAL - –Ω–∞–ø—Ä–∏–º–µ—Ä –¥–∞ –ø—Ä–æ–º–µ–Ω–∏–º ID-—Ç–æ –Ω–∞ –Ω–µ–≤–∞–ª–∏–¥–Ω–æ, –Ω–æ —Ç—É–∫ —â–µ –ø–æ–ª–∑–≤–∞–º–µ SIGNAL SQLSTATE –∑–∞ –ø—ä–ª–Ω–æ—Ç–∞).</p>
            
            <div style="background: #f4f6f7; padding: 10px; margin: 10px 0; font-size: 0.9em;">
                <em>–¢–∞–±–ª–∏—Ü–∞: employees (id, name, position)</em>
            </div>

            
        </div>

    </section>
</div>
<footer>
    <p style="text-align: center; margin-top: 50px; color: #7f8c8d;">
       ¬© 2026 –ë–∞–∑–∏ –¥–∞–Ω–Ω–∏. –∏–Ω–∂. –ü–æ–ª–∏–Ω–∞ –ö–∏—Ä–∏–ª–æ–≤–∞-–ú–∏—Ö–æ–≤–∞
    </p>
</footer>
    
<script>
    function checkAnswer(quizId, answer) {
        const feedbackEl = document.querySelector(`#${quizId} .feedback`);
        
        if (quizId === 'quiz1') {
            if (answer === 'old') {
                feedbackEl.innerHTML = "‚úÖ –ë—Ä–∞–≤–æ! OLD.salary –ø–∞–∑–∏ —Å—Ç–æ–π–Ω–æ—Å—Ç—Ç–∞, –∫–æ—è—Ç–æ –µ –≤ –±–∞–∑–∞—Ç–∞ –ü–†–ï–î–ò —Ä–µ–¥–∞–∫—Ü–∏—è—Ç–∞.";
                feedbackEl.className = "feedback correct";
            } else if (answer === 'new') {
                feedbackEl.innerHTML = "‚ùå –ù–µ. NEW.salary –µ –Ω–æ–≤–∞—Ç–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç, –∫–æ—è—Ç–æ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è—Ç —Å–µ –æ–ø–∏—Ç–≤–∞ –¥–∞ –∑–∞–ø–∏—à–µ.";
                feedbackEl.className = "feedback wrong";
            } else {
                feedbackEl.innerHTML = "‚ùå –ì—Ä–µ—à–Ω–æ. –¢–∞–∫–∞–≤–∞ –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∞ –Ω—è–º–∞.";
                feedbackEl.className = "feedback wrong";
            }
        }

        if (quizId === 'quiz2') {
            if (answer === 'before') {
                feedbackEl.innerHTML = "‚úÖ –¢–æ—á–Ω–æ —Ç–∞–∫–∞! –ó–∞ –¥–∞ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–∞–º–µ –¥–∞–Ω–Ω–∏—Ç–µ, —Ç—Ä—è–±–≤–∞ –¥–∞ –≥–∏ '—Ö–≤–∞–Ω–µ–º' –ø—Ä–µ–¥–∏ (BEFORE) –¥–∞ –±—ä–¥–∞—Ç –∑–∞–ø–∏—Å–∞–Ω–∏ –Ω–∞ –¥–∏—Å–∫–∞.";
                feedbackEl.className = "feedback correct";
            } else {
                feedbackEl.innerHTML = "‚ùå –ì—Ä–µ—à–Ω–æ. –ü—Ä–∏ AFTER –¥–∞–Ω–Ω–∏—Ç–µ –≤–µ—á–µ —Å–∞ –∑–∞–ø–∏—Å–∞–Ω–∏. –ú–æ–∂–µ–º –¥–∞ –ø—Ä–∞–≤–∏–º –¥—Ä—É–≥–∏ –Ω–µ—â–∞ (–ª–æ–≥–≤–∞–Ω–µ), –Ω–æ –Ω–µ –∏ –¥–∞ –ø—Ä–æ–º–µ–Ω—è–º–µ —Ç–µ–∫—É—â–∏—è —Ä–µ–¥.";
                feedbackEl.className = "feedback wrong";
            }
        }
    }

    function toggleAnswer(id) {
        const el = document.getElementById(id);
        if (el.style.display === 'block') {
            el.style.display = 'none';
        } else {
            el.style.display = 'block';
        }
    }
</script>

</body>

</html>
